self.linkedom=function(e){"use strict";const t={test:()=>!0},n={"text/html":{docType:"<!DOCTYPE html>",ignoreCase:!0,voidElements:/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i},"text/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:t},"application/xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:t},"application/xhtml+xml":{docType:'<?xml version="1.0" encoding="utf-8"?>',ignoreCase:!1,voidElements:t},"image/svg+xml":{docType:"",voidElements:t}},s=1,r=-1,o=2,i=3,c=8,a=9,d=11,l=()=>{throw new TypeError("invalid operation")},u=(e,t)=>{e.next=t,t.prev=e};class h{constructor(e,t){this.nodeType=e,this.name=t,this.next=null,this.prev=null,this.parentNode=null,this.ownerDocument=null}}const p=o;class m extends h{constructor(e,t){super(p,e),this.value=t}toString(){const{name:e,value:t}=this;return t?`${e}="${t}"`:e}}const x=c;class f extends h{constructor(e){super(x,"#comment"),this.value=e}toString(){return`\x3c!--${this.value}--\x3e`}}const g=({classes:e,element:t},n)=>({i:e.indexOf(n),classes:e,update(){t.setAttribute("class",e.join(" "))}});class v{constructor(e){this.element=e,this.classes=[]}add(e){const{i:t,classes:n,update:s}=g(this,e);t<0&&(n.push(e),s())}contains(e){return-1<g(this,e).i}remove(e){const{i:t,classes:n,update:s}=g(this,e);-1<t&&(n.splice(t,1),s())}}const y=i;class T extends h{constructor(e){super(y,"#text"),this.value=e}toString(){return this.value}}const b=d,w=r,C=s,E=(e,t,n)=>{const s=e.nodeType===C&&e!==n.prev?e.end:e;switch(t.nodeType){case b:u(s,t.next),u(t.end.prev,n),u(t,t.end);break;case C:u(s,t),u(t.end,n);break;default:u(s,t),u(t,n)}},k=({nodeType:e})=>{switch(e){case x:case C:case b:case y:return!0;default:return!1}},N=(e,t)=>{switch(e.nodeType){case b:let{next:n,end:s}=e;for(;n&&n!==s;)switch(n.parentNode=t,n.nodeType){case C:n=n.end.next;break;default:n=n.next}break;default:const{parentNode:r}=e;r!==t&&(r&&r.removeChild(e),e.parentNode=t)}};class A extends h{constructor(){super(w,"#/>")}}class D extends h{constructor(e,t=!1){super(C,e),this.void=t,this.end=new A,this.classList=new v(this),u(this,this.end)}get id(){return this.getAttribute("id")}set id(e){this.setAttribute("id",e)}get attributes(){const e=[];let{next:t}=this;for(;t.nodeType===p;)e.push(t),t=t.next;return e}get children(){const e=[];let{next:t,end:n}=this;for(;t!==n;)switch(t.nodeType){case C:e.push(t),t=t.end.next;break;default:t=t.next}return e}get firstChild(){let{next:e,end:t}=this;for(;e.nodeType===p;)e=e.next;return e===t?null:e}get lastChild(){let{firstChild:e}=this,t=e;for(;e;)switch(e.nodeType){case r:return t;case C:t=e,e=e.end.next;break;default:t=e,e=e.next}return t}hasChildNodes(){return this.next!==this.end}getAttribute(e){let{next:t}=this;for(;t.nodeType===p;){if(t.name===e)return t.value;t=t.next}return null}getAttributeNode(e){let{next:t}=this;for(;t.nodeType===p;){if(t.name===e)return t;t=t.next}return null}hasAttribute(e){let{next:t}=this;for(;t.nodeType===p;){if(t.name===e)return!0;t=t.next}return!1}setAttribute(e,t){let{next:n}=this;for(;n.nodeType===p;){if(n.name===e)return void(n.value=t);n=n.next}this.insertBefore(new m(e,t))}setAttributeNode(e){e.nodeType!==p&&l(),this.attributes.indexOf(e)<0&&this.insertBefore(e)}removeAttribute(e){let{next:t}=this;for(;t.nodeType===p;){if(t.name===e){this.removeChild(t);break}t=t.next}}append(){for(let e=0,{length:t}=arguments;e<t;e++)this.insertBefore(arguments[e])}appendChild(e){return this.insertBefore(e)}insertBefore(e,t=null){if(t){const{parentNode:n,prev:s}=t;n===this&&k(e)||l(),N(e,this),E(s,e,t)}else if(e.nodeType===p){N(e,this);const{next:t}=this;u(this,e),u(e,t)}else k(e)?(N(e,this),E(this.end.prev,e,this.end)):l();return e}removeChild(e){const{parentNode:t,prev:n,next:s,nodeType:r}=e;switch(t!==this&&l(),e.parentNode=null,r){case C:u(n,e.end.next),e.prev=e.end.next=null;break;default:u(n,s),e.prev=e.next=null}return e}toString(){let e=!0,{end:t,name:n,next:s,void:r}=this;const o=[`<${n}`];for(;e;)switch(s.nodeType){case p:o.push(` ${s.toString()}`),s=s.next;break;case w:o.push(r?" />":`></${n}>`),e=!1;break;default:o.push(">");do{switch(o.push(s.toString()),s.nodeType){case C:s=s.end.next;break;case y:case x:s=s.next;break;default:throw new TypeError("invalid structure")}}while(s!==t);o.push(`</${n}>`),e=!1}return o.join("")}}const $=d;class B extends D{constructor(){super("#fragment"),this.nodeType=$}}const L=a;class S extends h{constructor(e){super(L,"#document"),e=e.toLowerCase();const{docType:t,ignoreCase:s,voidElements:r}=n[e];this.docType=t,this.ignoreCase=s,this.voidElements=r,"image/svg+xml"===e&&(this.root=this.createElement("svg"),this.root.setAttribute("version","1.1"),this.root.setAttribute("xmlns","http://www.w3.org/2000/svg"))}get root(){return this.next}set root(e){if(e){e.nodeType!==C&&l();const{parentNode:t}=e;t&&t.nodeType===C&&t.removeChild(e),u(this,e),e.parentNode=this}else{const{next:e}=this;e&&(e.prev=null,e.parentNode=null,this.next=null)}}createAttribute(e){const t=new m(e,"");return t.ownerDocument=this,t}createComment(e){const t=new f(e);return t.ownerDocument=this,t}createDocumentFragment(){const e=new B;return e.ownerDocument=this,e}createElement(e,t={}){const n=new D(e,this.voidElements.test(e));return n.ownerDocument=this,t.is&&n.setAttribute("is",t.is),n}createTextNode(e){const t=new T(e);return t.ownerDocument=this,t}getElementById(e){let{next:t}=this;for(;t;){if(t.nodeType===C&&t.id===e)return t;t=t.next}return null}getElementsByClassName(e){const{ignoreCase:t}=this;t&&(e=e.toLowerCase());const n=[];let{next:s}=this;for(;s;)s.nodeType===C&&s.classList.contains(e)&&n.push(s),s=s.next;return n}getElementsByTagName(e){const{ignoreCase:t}=this;t&&(e=e.toLowerCase());const n=[];let{next:s}=this;for(;s;)s.nodeType===C&&(t?s.name.toLowerCase():s.name)===e&&n.push(s),s=s.next;return n}toString(){return`${this.docType}${this.next||""}`}}return e.Document=S,e.HTMLDocument=class extends S{constructor(){super("text/html")}get documentElement(){return this.root||(this.root=this.createElement("html"))}get head(){const{documentElement:e}=this;return e.children.find((e=>/^body$/i.test(e.name)))||e.insertBefore(this.createElement("head"),this.body)}get body(){const{documentElement:e}=this;return e.children.find((e=>/^body$/i.test(e.name)))||e.appendChild(this.createElement("body"))}},e.SVGDocument=class extends S{constructor(){super("image/svg+xml")}},e.XMLDocument=class extends S{constructor(){super("text/xml")}},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).default;
